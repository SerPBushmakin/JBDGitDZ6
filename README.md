Этот код реализует упрощенную модель банковской системы с несколькими важными компонентами и механизмами, 
которые вместе позволяют имитировать работу банка — обработку транзакций, изменение курсов валют, регистрацию клиентов, 
логирование операций и правильное завершение работы.

1. Основной класс Main

- Создает объект Bank с числом кассиров, например 3.
- Регистрирует логгер (Logger) — наблюдатель, который выводит сообщения в консоль.
- Добавляет клиентов с начальными балансами и валютами.
- Создает и добавляет транзакции в очередь:
  
Пополнение (Deposit)
Снятие (Withdrawal)
Обмен валют (CurrencyExchange)
Перевод средств между клиентами (FundsTransfer)
Ждет 20 секунд, пока транзакции обрабатываются.
Проверяет и выводит финальные балансы клиентов.
Останавливает банк и кассиров.
Выводит сообщение о завершении.

2. Класс Bank

Это центральный компонент. Он управляет:

- клиентами (clients — ConcurrentHashMap<Integer, Client>);
- наблюдателями (observers);
- очередью транзакций (transactionQueue);
- службами для автоматического обновления валютных курсов (ScheduledExecutorService);
- пулом кассиров (ExecutorService);
- курсами валют (exchangeRates);
- флагом isActive для остановки кассиров.

Основные операции:

- Добавление клиента и наблюдателей;
- Отправка транзакций в очередь;
- Обработка транзакций кассирами;
- Обновление курсов валют каждую секунду;
- Методы работы с балансами и валютами (deposit, withdraw, exchangeCurrency, transferFunds);
- Готовит систему к завершению (shutdown) — останавливает сейвы, курсы, кассиров.

3. Класс Cashier

- Реализует Runnable.
- В цикле продолжает брать транзакции из очереди (метод getTransaction()) и выполняет их (tx.process(bank)), пока active активен или очередь не станет пустой.
- Если поток прерывается, он завершает работу.

4. Абстрактный Transaction и потомки

Это "операции", которые кассиры выполняют:

- Deposit — пополнение счета клиента.
- Withdrawal — снятие денег.
- CurrencyExchange — обмен валют.
- FundsTransfer — перевод между клиентами.

Каждый транзакционный класс:

- хранит данные, нужные для операции.
- реализует метод process(Bank) — вызывает соответствующий метод банка и, при необходимости, уведомляет наблюдателей.

5. Класс Client

- Хранит ID, баланс, валюту.
- Использует synchronized методы для безопасного изменения баланса и валюты при параллельной обработке.

6. Логгер (Logger) и Observer

- Логгер реализует интерфейс Observer, выводит сообщения логов.
- В основном все операции логируются через вызовы notifyObservers.

7. Обработка валютных курсов

- exchangeRates — карта курса валют, изначально с фиксированными значениями.
- updateExchangeRates() — случайным образом меняет курсы каждую секунду (имитирует волатильность рынка).
- Каждое изменение валютных курсов инициирует лог-сообщение.

8. Завершение работы

В методе shutdown() банка:

 - Остановить обновление курсов.
 - Установить флаг isActive в false, что сигнализирует кассирам завершить работу.
 - awaitTermination кассиров и служб, чтобы убедиться, что все завершено.
 - Ожидает, пока очередь станет пустой, чтобы кассиры могли завершить работу (после этого цикл завершится).
